---
title:  "TIL. 7월 2주차"
excerpt: "7월 2주차 TIL"

categories:
  - TIL
tags:
  - TIL
last_modified_at: 2020-07-06T21:56:00-0900
---
# 7월 6일 월요일
오늘은 회사에서 야근하고 11시에 퇴근해서 공부를 제대로 하지 못했다.  

1. (회사) 단순히 print만 하는 테스트 프로그램에서 전혀 엉뚱한 print가 찍히는 현상   
프로세스 데드 현상이 있어서 원인 분석하느라 디버깅을 했는데, print 하는 부분을 추가하면 데드 현상이 재현이 되지 않아서 테스트 프로그램을 작성 해 보았다.  
테스트 바이너리의 cpp 파일에서 `printf("a"\n);`만 있는 단순한 프로그램이었는데 전혀 엉뚱한 print가 찍히더라. 예를들면 a가 아니라 b라던가?  
너무 당황스러웠는데 .. 어찌저찌 원인을 찾았다. (하루종일 삽질했다 진짜)  
원인은 회사의 소스들이 라이브러리를 링크해서 사용하는데, 링크를 하는 순간 전역변수로 등록 되어 있던 클래스들이 선언되면서 생긴 문제였다. ( 링크가 걸린 순간 전역변수에 있는 것들이 선언된다고 한다. )  
클래스가 선언되고 그 클래스 내부 로컬 변수에 또 클래스가 선언되고 .. 꼬리에 꼬리를 물고 결국 엉뚱한 print까지 찾아가게 됐던 것이다.  
문제가 됐던 클래스를 사용하는 함수 내부로 옮겼는데.. 이게 원래는 쓰레드에서 클래스를 공유 할 때 쉽게 쓰려고 선언 해 놓은 것 같다. ( 지역 변수로 선언하면 Lock도 잡아야하고 복잡 해 진다고 한다. )  
어찌됐든 문제가 됐던 클래스는 공유 할 필요가 없다고 해서 지역변수로 옮겨서 이슈를 해결 했다.  
클래스를 설계 하면서 로컬 변수에 클래스를 생성한다고 했을 때도 내가 원하지 않는 상황에서 클래스들이 생성되면서 문제를 일으킬 수 있다는 것도 생각이 든다. 

2. 위의 이슈를 해결하고 집에와서 관성을 유지하기 위해서 조금이나마 HTML 태그 공부를 했다.
    - hyper link tag
    - table, list tag

3. 노래 연습도 하고 있는데 잘 안된다 ㅎㅎ

# 7월 7일 화요일
오늘은 사용자 입력을 위한 태그를 끝으로 HTML 공부를 마무리 했다. 

1. HTML) form, input, select 등에 대해서 공부했다. 자세한 내용은 블로그에 정리 하였다. 

2. 앞으로의 계획 ..  
    - 코딩 부트캠프에서 공부하는 시점을 내년 8월쯤으로 생각했는데, 너무 늦을거 같아서 내년 1월부터로 당길수도 있을 것 같다는 생각이 든다.   
    이번 주말에 본가에 가서 부모님하고 상담을 해 봐야겠다. 

# 7월 8일 수요일
오늘은 너무 늦게 마쳐서 따로 공부하지 못했다. 회사에서 해야하나..?

아니면 아침 일찍 일어나서 해야 할 것 같다. 

1. SSO 로그인을 했을 때 login_time을 체크하는 Validator를 만들었는데, 로직상 문제가 없어 보였으나, 삭제하는 루틴이 정상적으로 동작하지 않는 문제가 있어서 애를 먹었다.  
login_time이 Interval_time만큼 지난 경우에 삭제 할 row들을 list에 담아서 삭제하는 루틴인데,  
삭제를 하고, commit을 하는 과정에서 정상적으로 동작하지 않았다. 이것은 list를 rewind 해주지 않아서 생긴 에러였는데, 리스트 시작점이 달라서 commit하지 못하고 삭제가 안됐던 것으로 생각된다.  
아직도 한참 멀었다 !

2. 7월 13일에 PoC를 나가야해서 준비하느라 오래 야근을 했다. PoC를 몇번 나가봤지만 그래도 떨리는건 어쩔 수 없나보다 ㅠㅠ

# 7월 9일 목요일
오늘은 아침에 일어나서 CSS 공부를 진행 했는데, 출근시간이 다가와서 블로그에 업데이트 하지는 못했다.  
점점 변명만 늘어나는 느낌이다.. 계획을 세워서 잘 해야 할 텐데. ( 계획을 지키는 습관을 들이자. 반성 ! )

내일 금요일은 진주로 여행을 떠나기 때문에 조금 더 일찍 일어나서 정리 후에 블로그에 업데이트 해야겠다.

토요일은 커밋을 못할 것 같고, 일요일에 밀린 것들 정리해서 올려야 할 것 같다.

1. PoC 준비를 계속 하고 있다. 엔지니어분들과 같이 테스트 하면서 안되는 부분 서버파트 지원 하고, UI는 다른 과장님께 지원해서 처리하고 있다.  
이번 PoC가 AWS 환경에서 제공되기 때문에, 서버의 IP들이 다 도메인으로 찍혀 있다.  
AWS용 브랜치로 나누는 작업을 진행 했는데 이는 IP 길이가 원래는 65byte 였지만 서버 이름 중에 65바이트가 넘어가는 것들이 있어서 256자로 올려야 겠다고 차장님께 말씀드렸다.  
서버 소스에서 존재하는 것 중에 서버 IP를 참조하는 부분을 조사해서 256byte로 변경했고, 클라이언트에서도 프로시저를 호출해서 서버로부터 IP를 받아오는 부분이 있어서, 따로 수정을 해 주고 AWS 브랜치를 새로 생성했다.  

2. 클라이언트에서 NAT룰을 가져오는 부분이 있는데 위에서 언급한대로 서버에서는 IP 길이를 256byte로 리턴하는데 클라이언트에서 받을 때 65byte로 생기는 문제가 있어서 256byte로 수정했다. ( NAT룰을 수집하는 부분 )

3. 또 하나의 문제가.. NAT룰을 받아 올 때 (DB 서버 ip:port) -> (제품이 설치 된 서버 ip:port) 이런식으로 짝을 이루게 된다. 결국은 DB 서버 ip와 port로 접속 했을 때 우리 게이트웨이 서버를 경유하게끔 IP와 Port 정보를 변경해서 ( NAT ) 우리 게이트웨이를 거치도록 하는데,  
서버의 IP가 도메인 주소로 되어 있다 보니 제품이 설치 된 서버의 ip가 도메인으로 NAT 룰을 가져오게 되었다.  
이경우에 NAT가 정상적으로 동작하지 않아서 ( NAT 인식을 못한다. ) NAT 룰을 가져 왔을 때 서버의 IP가 도메인명이라면 IP로 변경해서 NAT 룰을 쌓도록 변경했다.  

# 7월 10일 금요일
<<<<<<< HEAD

1. JavaScript와 Vue로 되어 있는 맥 클라이언트에서 문제가 발생했다.  
이슈 내용은 클라이언트에서 어떤 기능을 하는 창이 뜰 때 그 창이 떠 있을때는 새로운 창을 띄우지 않는 그런 로직이 있어야 하는데 그런 로직이 없어서 고객사에서 다음날 출근 했을 때 무수히 많은 창을 꺼야 하는 상황이 발생했다. (...) 해당 내용은 주말에 확인해서 얼마나 걸릴지 판단해서 전달 드리기로 했다.

CSS 기본 개념을 정리해서 기초와 셀렉터에 대하여 공부했다. 

1. CSS 기본 개념 정리
    - 전에 공부 했던 것들 정리하여 블로그에 업로드 했다.

2. 셀렉터 공부 
    - 셀렉터의 대한 개념을 공부하고, 실습으로 <https://flukeout.github.io/> 에서 32레벨까지 2번정도 반복했다. 

7월 11일 토요일은 진주로 여행을 가서 업로드를 일요일에 몰아서 해야 할 것 같다 !

# 7월 11일 토요일

이 날도 놀러와서 제대로 된 공부를 하지 못했다 ^^

# 7월 12일 일요일
금요일에 발생 했던 이슈 내용을 확인 해 봤더니 다음과 같다.  
1. DB 접속 툴에서 주기적으로 접속 시도
2. 접속 할 때 마다 DB 접속 로그인 창이 뜸
3. 이 창이 누적되어 발생

윈도우 클라이언트 같은 경우에는 같은 창이 뜰 때 handler에서 창이 떠 있는지 안 떠있는지 확인 후에 떠 있으면 포커스만 전환하고, 안 떠 있으면 새로운 창을 띄우는 로직으로 되어있다.  
음.. 솔직히 Vue도 모르고 HTML/CSS를 지금 배우고 있는 입장에서 해당 내용을 수정 하려고 하면 구글링해서 충분히 수정 할 수 있을 것 같지만...  
또 내용도 모르고 아웃풋 중심으로 굴러갈까봐 무섭다. 다음주에 출근해서 최대한 어떻게 쓰는지 확인을 하고 사용해야 할 것 같다.

